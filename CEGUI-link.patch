--- CEGUI-0.7.1/acinclude.m4~	2009-10-10 15:07:33.000000000 +0200
+++ CEGUI-0.7.1/acinclude.m4	2010-05-10 14:15:47.593526472 +0200
@@ -67,9 +67,6 @@
         cegui_found_tinyxml=no
     fi
 
-    dnl save lots of linker aggro ;)
-    LIBS="$xerces_LIBS $LIBS"
-
     dnl Find out what user disabled as far as parsers go
     AC_ARG_ENABLE([xerces-c], AC_HELP_STRING([--disable-xerces-c], [Disables building of the Xerces-C++ XML parser module.]),
                 [cegui_with_xerces=$enableval], [cegui_with_xerces=yes])
@@ -251,8 +248,8 @@
         if test "x$prefix" != xNONE ; then
             PATH="$prefix/bin:$prefix/usr/bin:$PATH"
         fi
-        AC_PATH_PROG(cegui_corona_config, corona-config, no, [PATH])
-        AC_MSG_CHECKING([for corona - version >= 1.2.0])
+        AC_PATH_PROG(cegui_corona_config, corona-config, no, [$PATH])
+	AC_MSG_CHECKING([for corona - version >= 1.2.0])
         cegui_with_corona=no
         if test "$cegui_corona_config" = "no" ; then
             cegui_with_corona=no
@@ -570,7 +567,7 @@
         ;;
     * )
         AC_PATH_XTRA
-        LIBS="$X_PRE_LIBS $X_LIBS $X_EXTRA_LIBS"
+	LIBS="$X_LIBS $X_EXTRA_LIBS"
 
         AC_SEARCH_LIBS(glInterleavedArrays, MesaGL GL, cegui_found_lib_GL=yes, cegui_found_lib_GL=no)
         AC_SEARCH_LIBS(gluOrtho2D, MesaGLU GLU, cegui_found_lib_GLU=yes,  cegui_found_lib_GLU=no)
@@ -732,7 +729,7 @@
 
     dnl If that did not work, try again with an alternate name for the packages (as used on (K)Ubuntu etc)
     if test x$cegui_found_lua = xno; then
-        PKG_CHECK_MODULES(Lua, lua5.1,
+        PKG_CHECK_MODULES(Lua, lua51,
                         [cegui_found_lua=yes; Lua_CFLAGS="$Lua_CFLAGS -DCEGUI_LUA_VER=51"],
                         [cegui_found_lua=no])
     fi
